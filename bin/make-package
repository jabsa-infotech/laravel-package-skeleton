#!/usr/bin/env php
<?php

if (file_exists(__DIR__.'/../../../autoload.php')) {
    require __DIR__.'/../../../autoload.php';
} else {
    require __DIR__.'/../vendor/autoload.php';
}

use Jabsa\PackageMaker\PackageGenerator;

$generator = new PackageGenerator(__DIR__ . '/..');

echo "Jabsa Laravel Package Generator\n";
echo "=======================\n\n";

$vendorName = readline("Vendor name (e.g. jabsa-infotech): ");
$packageName = readline("Package name (e.g. my-first-package): ");
$authorName = readline("Author name: ");
$authorEmail = readline("Author email: ");
$description = readline("Package description [A Laravel package]: ") ?: 'A Laravel package';

try {
    $generator->generate(
        $vendorName,
        $packageName,
        $authorName,
        $authorEmail,
        $description
    );
} catch (Exception $e) {
    echo "Error: " . $e->getMessage() . "\n";
    exit(1);
}